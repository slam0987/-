<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تطبيق إنشاء رمضان</title>
    <style>
        /* تنسيق الصفحة الرئيسية */
        body, html {
            height: 100%;
            margin: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .welcome-page {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100%;
            background-color: #74b9ff;
            background-image: linear-gradient(120deg, #a29bfe 0%, #74b9ff 100%);
            color: #ffffff;
        }

        .welcome-container {
            text-align: center;
            padding: 30px;
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
        }

        .welcome-container h1 {
            font-size: 36px;
            margin-bottom: 20px;
        }

        .welcome-container p {
            font-size: 18px;
            margin-bottom: 30px;
        }

        .welcome-container .btn {
            background-color: #6c5ce7;
            color: #ffffff;
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 18px;
            transition: background-color 0.3s;
        }

        .welcome-container .btn:hover {
            background-color: #81ecec;
        }

        /* تنسيق واجهة الإنشاء */
        .content-page {
            display: none;
            padding: 20px;
            background-color: #ffefba;
            background-image: linear-gradient(120deg, #f6d365 0%, #fda085 100%);
        }

        .content-page h1 {
            text-align: center;
            color: #2c3e50;
        }

        p.note {
            text-align: center;
            color: #2c3e50;
            font-size: 14px;
            margin-bottom: 20px;
        }

        .container {
            width: 80%;
            margin: auto;
            padding: 30px;
            background-color: #ffffff;
            border-radius: 15px;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
        }

        .letter, .translation {
            padding: 20px;
            margin: 15px 0;
            border-radius: 10px;
            border-left: 5px solid #27ae60;
        }

        .letter {
            background-color: #e0f7fa;
        }

        .translation {
            background-color: #e8f5e9;
        }

        .controls {
            text-align: center;
            margin: 20px 0;
        }

        .btn {
            display: inline-block;
            background-color: #3498db;
            color: #fff;
            padding: 10px 20px;
            margin: 10px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
        }

        .btn:hover {
            background-color: #2980b9;
        }

        .english {
            color: #2c3e50;
            line-height: 1.8;
            word-spacing: 0.2em;
        }

        .arabic {
            color: #1e88e5;
        }

        p span {
            cursor: pointer;
            transition: background-color 0.3s, text-decoration 0.3s;
        }

        p span:hover {
            background-color: #dfe6e9;
        }

        .highlight {
            text-decoration: underline;
            background-color: transparent;
        }
    </style>
</head>
<body>

    <!-- الصفحة الرئيسية -->
    <div class="welcome-page">
        <div class="welcome-container">
            <h1>مرحباً بطلاب الخامس العلمي!</h1>
            <p>هذا التطبيق يساعدكم على تعلم وتحسين مهارات القراءة والفهم من خلال إنشاء رمضان. يمكنكم الضغط على الكلمات الإنجليزية لسماع نطقها أو قراءة النص الكامل.</p>
            <button class="btn" onclick="goToContent()">الذهاب إلى الإنشاء</button>
        </div>
    </div>

    <!-- واجهة الإنشاء -->
    <div class="content-page">
        <h1>إنشاء رمضان</h1>
        <p class="note">اضغط على أي كلمة إنجليزية وسيتم قراءتها.</p>
        <div class="container">
            <div class="controls">
                <button class="btn" id="speakAllBtn">🔊 نطق الكل / إيقاف</button>
            </div>

            <div class="letter">
                <h2>النص الأصلي:</h2>
                <p class="english" id="englishText">
                    <span>Dear</span> <span>Ahmad,</span> <span>you</span> <span>asked</span> <span>me</span> <span>to</span> <span>tell</span> <span>you</span> <span>about</span> <span>Ramadan</span> <span>in</span> <span>my</span> <span>country.</span>
                    <span>It</span> <span>is</span> <span>a</span> <span>special</span> <span>time.</span>
                    <span>Ramadan</span> <span>is</span> <span>the</span> <span>month</span> <span>of</span> <span>charity,</span> <span>fasting,</span> <span>and</span> <span>forgiveness.</span>
                    <span>In</span> <span>Ramadan,</span> <span>people</span> <span>stop</span> <span>eating</span> <span>or</span> <span>drinking</span> <span>from</span> <span>dawn</span> <span>to</span> <span>sunset.</span>
                    <span>The</span> <span>restaurants</span> <span>are</span> <span>closed</span> <span>all</span> <span>day</span> <span>until</span> <span>the</span> <span>evening.</span>
                    <span>After</span> <span>that,</span> <span>people</span> <span>go</span> <span>to</span> <span>the</span> <span>mosques</span> <span>for</span> <span>praying.</span>
                    <span>In</span> <span>Ramadan,</span> <span>people</span> <span>usually</span> <span>visit</span> <span>each</span> <span>other</span> <span>at</span> <span>night.</span>
                    <span>People</span> <span>like</span> <span>Ramadan</span> <span>because</span> <span>it</span> <span>combines</span> <span>the</span> <span>members</span> <span>of</span> <span>the</span> <span>family,</span> <span>and</span> <span>they</span> <span>enjoy</span> <span>the</span> <span>religious</span> <span>atmosphere.</span>
                    <span>See</span> <span>you</span> <span>soon.</span> <span>Ali.</span>
                </p>
            </div>

            <div class="translation">
                <h2>الترجمة:</h2>
                <p class="arabic">عزيزي أحمد، لقد طلبت مني أن أخبرك عن رمضان في بلدي. إنه وقت مميز. رمضان هو شهر الصدقة والصيام والمغفرة. في رمضان، يتوقف الناس عن الأكل أو الشرب من الفجر حتى غروب الشمس. تكون المطاعم مغلقة طوال اليوم حتى المساء. بعد ذلك، يذهب الناس إلى المساجد للصلاة. في رمضان، عادةً ما يزور الناس بعضهم البعض في الليل. يحب الناس رمضان لأنه يجمع أفراد الأسرة، وهم يستمتعون بالأجواء الدينية. أراك قريبًا. علي.</p>
            </div>
        </div>
    </div>

    <script>
        // الانتقال من الصفحة الرئيسية إلى صفحة الإنشاء
        function goToContent() {
            document.querySelector('.welcome-page').style.display = 'none';
            document.querySelector('.content-page').style.display = 'block';
        }

        let isSpeaking = false;
        const speakAllBtn = document.getElementById('speakAllBtn');
        const englishText = document.getElementById('englishText');
        const spans = englishText.querySelectorAll('span');

        // نطق كلمة معينة عند الضغط عليها
        spans.forEach(span => {
            span.addEventListener('click', function() {
                let utterance = new SpeechSynthesisUtterance(span.textContent);
                utterance.lang = 'en-US';
                speechSynthesis.speak(utterance);
            });
        });

        // نطق النص بالكامل مع التأشير على الكلمة الحالية
        function speakFullText() {
            if (isSpeaking) return;

            let text = '';
            spans.forEach(span => text += span.textContent + ' ');
            
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'en-US';
            utterance.rate = 0.85; // معدل القراءة لتكون بطيئة وواضحة

            utterance.onboundary = function(event) {
                let charIndex = event.charIndex;
                for (let i = 0; i < spans.length; i++) {
                    spans[i].classList.remove('highlight');
                    if (charIndex <= spans[i].textContent.length) {
                        spans[i].classList.add('highlight');
                        break;
                    }
                }
            };

            utterance.onend = function() {
                isSpeaking = false;
                speakAllBtn.textContent = '🔊 نطق الكل / إيقاف';
                spans.forEach(span => span.classList.remove('highlight'));
            };

            speechSynthesis.speak(utterance);
            isSpeaking = true;
            speakAllBtn.textContent = '⏸️ إيقاف';
        }

        // وظيفة إيقاف النطق
        function stopSpeaking() {
            speechSynthesis.cancel();
            isSpeaking = false;
        }

        // التحكم في زر نطق الكل / إيقاف
        speakAllBtn.addEventListener('click', function() {
            if (!isSpeaking) {
                speakFullText();
            } else {
                stopSpeaking();
                speakAllBtn.textContent = '🔊 نطق الكل / إيقاف';
            }
        });
    </script>
</body>
</html>
